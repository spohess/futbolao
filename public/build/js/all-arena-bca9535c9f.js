function fnSistemaController(e,o){e.onLoadArena=function(){e.meusBoloes=[],e.todosBoloes=[],e.adminBolao=[],e.adminBolao.confirmaDelete=!1,e.limitesList=[{id:"5",valor:"5"},{id:"10",valor:"10"},{id:"15",valor:"15"},{id:"20",valor:"20"},{id:"25",valor:"25"},{id:"30",valor:"30"}],e.pessoalLimite="5",e.geralLimite="5",e.getUsuarioBolao(),e.getTodosBoloes()},e.getUsuarioBolao=function(){o.get("/bolao/usuario_bolao").success(function(o){"sucesso"===o.estado&&(e.meusBoloes=o.lista),"vazio"===o.estado&&angular.element("#vazioMeusBoloes").show(),"erro"===o.estado&&angular.element("#erroMeusBoloes").show()}).error(function(){angular.element("#erroMeusBoloes").show()})["finally"](function(){angular.element("#carregaMeusBoloes").hide()})},e.getTodosBoloes=function(){o.get("/bolao/todos_bolao").success(function(o){"sucesso"===o.estado&&(e.todosBoloes=o.lista),"vazio"===o.estado&&angular.element("#vazioTodosBoloes").show(),"erro"===o.estado&&angular.element("#erroTodosBoloes").show()}).error(function(){angular.element("#erroTodosBoloes").show()})["finally"](function(){angular.element("#carregaTodosBoloes").hide()})},e.carregaCompeticao=function(){o.get("/ws/competicoes").success(function(o){e.competicoes=o,e.novoBolao.id_competicao=""})},e.gravaNovoBolao=function(){angular.element(".alerta-oculto").hide(),e.formNovoBolao.$valid&&(iconeEspera("iconeBtnCria","fa-plus","ativa"),o.post("/bolao/cria",e.novoBolao).success(function(o){"sucesso"===o.estado?(e.meusBoloes=o.listaMeus,e.todosBoloes=o.listaTodos,angular.element("#mdNovoBolao").modal("hide"),angular.element(".limpar").val("").html("").prop("checked",!1),angular.element("#vazioMeusBoloes").hide(),angular.element("#vazioTodosBoloes").hide()):angular.element("#avisoCriaErro").show()}).error(function(){angular.element("#avisoCriaErro").show()})["finally"](function(){iconeEspera("iconeBtnCria","fa-plus","desativa"),o.get("/ws/gettoken").success(function(o){e.novoBolao._token=o.token})}))},e.carregaDetalheBolao=function(a){e.adminBolao.confirmaDelete=!1,angular.element("#mdDetalheBolao").modal("show"),o.get("/bolao/detalhe/"+a.id).success(function(o){e.detalheBolao=o})},e.entrarBolao=function(a){o.post("/bolao/solicita_entrada/"+a.id).success(function(o){"sucesso"===o.estado&&(e.detalheBolao=o.detalheBolao,e.meusBoloes=o.listaMeus)})},e.cancelarSolicitacao=function(a){o["delete"]("/bolao/cancela_convite/"+a.id).success(function(o){"sucesso"===o.estado&&(e.detalheBolao=o.detalheBolao,e.meusBoloes=o.listaMeus)})},e.sairBolao=function(a){o["delete"]("/bolao/sair_bolao/"+a.id).success(function(o){"sucesso"===o.estado&&(e.detalheBolao=o.detalheBolao,e.meusBoloes=o.listaMeus)})},e.deleteBolao=function(a){o["delete"]("/bolao/delete_bolao/"+a.id).success(function(o){"sucesso"===o.estado&&(e.meusBoloes=o.listaMeus,e.todosBoloes=o.listaTodos),angular.element("#mdDetalheBolao").modal("hide")})},e.respostaConvite=function(a,t){var l={bolao:a,acao:t};o.post("/bolao/resposta_convite",l).success(function(o){e.detalheBolao=o.detalheBolao})},e.respostaConviteGeral=function(a,t){var l={bolao:a,acao:t};o.post("/bolao/resposta_convite",l).success(function(){e.mostraListaConvitePendente()})},e.banirParticipante=function(a,t){var l={participante:a,bolao:t.id};o.post("/bolao/banir_participante",l).success(function(o){e.detalheBolao=o.detalheBolao})},e.mostraListaConvitePendente=function(){angular.element("#listaConvitesPendentesVazia").hide(),o.get("/bolao/convites_pendentes").success(function(o){e.listaConvites=o.length,e.listaConvitesPendentes=o,0==o.length&&angular.element("#listaConvitesPendentesVazia").show()}),angular.element("#mdListaConvites").modal("show")},e.onLoadPalpite=function(){e.gravado=!1,e.getUsuarioBolao()},e.carregaPartidasParaPalpitar=function(){angular.element("#listaCarregando").show(),o.get("/palpite/para_palpitar/"+e.palpite.id_bolao).success(function(o){e.listaPalpites=o.palpites,e.palpite.itemPorPagina=o.qtd_rodada,0==o.palpites.length&&angular.element("#listaVazia").show()}).then(function(){angular.element("#listaCarregando").hide()})},e.carregaPartidasParaConferir=function(){angular.element("#listaCarregando").show(),o.get("/palpite/para_conferir/"+e.palpite.id_bolao).success(function(o){e.listaPalpites=o.palpites,e.palpite.itemPorPagina=o.qtd_rodada,0==o.palpites.length&&angular.element("#listaVazia").show()}).then(function(){angular.element("#listaCarregando").hide()})},e.gravaPalpite=function(a){if(""==a.palpite_casa||""==a.palpite_visitante)return!1;var t={_token:a._token,id_bolao:e.palpite.id_bolao,id_palpite:a.id_palpite,id_partida:a.id_partida,id_competicao:a.id_competicao,palpite_casa:a.palpite_casa,palpite_penalti_casa:a.palpite_penalti_casa,palpite_penalti_visitante:a.palpite_penalti_visitante,palpite_visitante:a.palpite_visitante};o.post("/palpite/save_palpite",t).success(function(o){e.gravado=!0,a.id_palpite=o.id_palpite,angular.element("#box-palpite-"+a.id_partida).removeClass("inserido"),angular.element("#box-palpite-"+a.id_partida).addClass("gravado")})},e.outrosPalpites=function(e){console.info(e),angular.element("#mdOutrosPalpites").modal("show")}}fnSistemaController.$inject=["$scope","$http"],angular.module("app").controller("sistemaController",fnSistemaController);