function fnSistemaController(e,a){e.onLoadArena=function(){e.meusBoloes=[],e.todosBoloes=[],e.adminBolao=[],e.adminBolao.confirmaDelete=!1,e.limitesList=[{id:"5",valor:"5"},{id:"10",valor:"10"},{id:"15",valor:"15"},{id:"20",valor:"20"},{id:"25",valor:"25"},{id:"30",valor:"30"}],e.pessoalLimite="5",e.geralLimite="15",e.getUsuarioBolao(),e.getTodosBoloes()},e.getUsuarioBolao=function(){a.get("/bolao/usuario_bolao").success(function(a){"sucesso"===a.estado&&(e.meusBoloes=a.lista),"vazio"===a.estado&&angular.element("#vazioMeusBoloes").show(),"erro"===a.estado&&angular.element("#erroMeusBoloes").show()}).error(function(){angular.element("#erroMeusBoloes").show()})["finally"](function(){angular.element("#carregaMeusBoloes").hide()})},e.getTodosBoloes=function(){a.get("/bolao/todos_bolao").success(function(a){"sucesso"===a.estado&&(e.todosBoloes=a.lista),"vazio"===a.estado&&angular.element("#vazioTodosBoloes").show(),"erro"===a.estado&&angular.element("#erroTodosBoloes").show()}).error(function(){angular.element("#erroTodosBoloes").show()})["finally"](function(){angular.element("#carregaTodosBoloes").hide()})},e.carregaCompeticao=function(){a.get("/ws/competicoes").success(function(a){e.competicoes=a,e.novoBolao.id_competicao=""})},e.gravaNovoBolao=function(){angular.element(".alerta-oculto").hide(),e.formNovoBolao.$valid&&(iconeEspera("iconeBtnCria","fa-plus","ativa"),a.post("/bolao/cria",e.novoBolao).success(function(a){"sucesso"===a.estado?(e.meusBoloes=a.listaMeus,e.todosBoloes=a.listaTodos,angular.element("#mdNovoBolao").modal("hide"),angular.element(".limpar").val("").html("").prop("checked",!1),angular.element("#vazioMeusBoloes").hide(),angular.element("#vazioTodosBoloes").hide()):angular.element("#avisoCriaErro").show()}).error(function(){angular.element("#avisoCriaErro").show()})["finally"](function(){iconeEspera("iconeBtnCria","fa-plus","desativa"),a.get("/ws/gettoken").success(function(a){e.novoBolao._token=a.token})}))},e.carregaDetalheBolao=function(o){e.adminBolao.confirmaDelete=!1,angular.element("#mdDetalheBolao").modal("show"),a.get("/bolao/detalhe/"+o.id).success(function(a){e.detalheBolao=a})},e.entrarBolao=function(o){a.post("/bolao/solicita_entrada/"+o.id).success(function(a){"sucesso"===a.estado&&(e.detalheBolao=a.detalheBolao,e.meusBoloes=a.listaMeus)})},e.cancelarSolicitacao=function(o){a["delete"]("/bolao/cancela_convite/"+o.id).success(function(a){"sucesso"===a.estado&&(e.detalheBolao=a.detalheBolao,e.meusBoloes=a.listaMeus)})},e.sairBolao=function(o){a["delete"]("/bolao/sair_bolao/"+o.id).success(function(a){"sucesso"===a.estado&&(e.detalheBolao=a.detalheBolao,e.meusBoloes=a.listaMeus)})},e.deleteBolao=function(o){a["delete"]("/bolao/delete_bolao/"+o.id).success(function(a){"sucesso"===a.estado&&(e.meusBoloes=a.listaMeus,e.todosBoloes=a.listaTodos),angular.element("#mdDetalheBolao").modal("hide")})},e.respostaConvite=function(o,t){var l={bolao:o,acao:t};a.post("/bolao/resposta_convite",l).success(function(a){e.detalheBolao=a.detalheBolao})},e.respostaConviteGeral=function(o,t){var l={bolao:o,acao:t};a.post("/bolao/resposta_convite",l).success(function(){e.mostraListaConvitePendente()})},e.banirParticipante=function(o,t){var l={participante:o,bolao:t.id};a.post("/bolao/banir_participante",l).success(function(a){e.detalheBolao=a.detalheBolao})},e.mostraListaConvitePendente=function(){angular.element("#listaConvitesPendentesVazia").hide(),a.get("/bolao/convites_pendentes").success(function(a){e.listaConvites=a.length,e.listaConvitesPendentes=a,0==a.length&&angular.element("#listaConvitesPendentesVazia").show()}),angular.element("#mdListaConvites").modal("show")},e.onLoadPalpite=function(){e.gravado=!1,e.getUsuarioBolao()},e.carregaPartidasParaPalpitar=function(){angular.element("#listaCarregando").show(),a.get("/palpite/para_palpitar/"+e.palpite.id_bolao).success(function(a){e.listaPalpites=a.palpites,e.palpite.itemPorPagina=a.qtd_rodada,0==a.palpites.length&&angular.element("#listaVazia").show()}).then(function(){angular.element("#listaCarregando").hide()})},e.carregaPartidasParaConferir=function(){angular.element("#listaCarregando").show(),a.get("/palpite/para_conferir/"+e.palpite.id_bolao).success(function(a){e.listaPalpites=a.palpites,e.palpite.itemPorPagina=a.qtd_rodada,0==a.palpites.length&&angular.element("#listaVazia").show()}).then(function(){angular.element("#listaCarregando").hide()})},e.gravaPalpite=function(o){if(""==o.palpite_casa||""==o.palpite_visitante)return!1;var t={_token:o._token,id_bolao:e.palpite.id_bolao,id_palpite:o.id_palpite,id_partida:o.id_partida,id_competicao:o.id_competicao,palpite_casa:o.palpite_casa,palpite_penalti_casa:o.palpite_penalti_casa,palpite_penalti_visitante:o.palpite_penalti_visitante,palpite_visitante:o.palpite_visitante};a.post("/palpite/save_palpite",t).success(function(a){e.gravado=!0,o.id_palpite=a.id_palpite,angular.element("#box-palpite-"+o.id_partida).removeClass("inserido"),angular.element("#box-palpite-"+o.id_partida).addClass("gravado")})},e.outrosPalpites=function(o){console.info(o),e.detalhePalpite=o,a.get("/palpite/palpites_usuarios/"+e.palpite.id_bolao+"/"+o.id_partida).success(function(a){e.listaPalpiteUsuario=a,angular.element("#mdOutrosPalpites").modal("show"),0==a.length&&angular.element("#listaVazia_"+o.id_partida).show()})}}fnSistemaController.$inject=["$scope","$http"],angular.module("app").controller("sistemaController",fnSistemaController);