{"version":3,"sources":["auth.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all-auth.js","sourcesContent":["function fnSistemaController($scope, $http) {\n\n    $scope.validaEmail = function(){\n        if( $scope.formCadastro.email.$invalid ){\n            return false;\n        }\n\n        angular.element(\".aviso-email\").hide();\n        $http.post('/cadastro/validaemail', $scope.usuario)\n        .success(function(dados){\n            if( dados.estado == 'invalido' ){\n                angular.element(\".aviso-email\").show();\n                $scope.usuario.emailValido = 'invalido';\n            } else {\n                $scope.usuario.emailValido = 'valido';\n            }\n        })\n        .error(function(dados){\n            angular.element(\".aviso-email\").show();\n            $scope.usuario.emailValido = 'invalido';\n        });\n    }\n\n    $scope.validaLogin = function(){\n        if( $scope.formCadastro.email.$invalid ){\n            return false;\n        }\n        angular.element(\".aviso-login-valido\").hide();\n        angular.element(\".aviso-login-invalido\").hide();\n\n        $http.post('/cadastro/validalogin', $scope.usuario)\n        .success(function(dados){\n            if( dados.estado == 'valido' ){\n                angular.element(\".aviso-login-valido\").show();\n                $scope.usuario.loginValido = 'valido';\n            } else {\n                angular.element(\".aviso-login-invalido\").show();\n                $scope.usuario.loginValido = 'invalido';\n            }\n        })\n        .error(function(dados){\n            angular.element(\".aviso-login-invalido\").show();\n            $scope.usuario.loginValido = 'invalido';\n        });\n    }\n\n    $scope.cadastroUsuario = function(){\n        if( $scope.formCadastro.$invalid ){\n            return false;\n        }\n        iconeEspera('iconeBtnCadastrar', 'fa-save', 'ativa');\n\n        var erro = 0\n        if( $scope.usuario.emailValido == 'invalido' ){\n            angular.element(\".aviso-email\").show();\n            erro++;\n        }\n        if( $scope.usuario.loginValido == 'invalido' ){\n            angular.element(\".aviso-login-invalido\").show();\n            erro++;\n        }\n        if( erro == 0 ){\n            $http.post('/cadastro', $scope.usuario)\n            .success(function(dados){\n                if( dados.estado == 'sucesso' ){\n                    angular.element(\".aviso-oculto\").hide();\n                    angular.element(\"#avisoCadastroSucesso\").show();\n                    $scope.usuario = [];\n                    angular.element(\"form[name=formCadastro]\").validator('destroy');\n                    angular.element(\".aviso-login-valido\").hide();\n                    angular.element(\".aviso-login-invalido\").hide();\n                } else {\n                    angular.element(\".aviso-oculto\").hide();\n                    angular.element(\"#avisoCadastroErro\").show();\n                }\n            })\n            .then(function(){\n                iconeEspera('iconeBtnCadastrar', 'fa-save', 'desativa');\n            });\n        }\n    }\n\n    $scope.reenviaConfirmacao = function(){\n        if( $scope.formReenviaConf.$invalid ){\n            return false;\n        }\n\n        iconeEspera('iconeBtnReenvia', 'fa-send', 'ativa');\n        $http.post('/cadastro/reenvia', $scope.reenvia)\n        .success(function(dados){\n            if( dados.estado == 'confirmado' ){\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoReenviaErro\").show();\n            }\n            if( dados.estado == 'sucesso' ) {\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoReenviaSucesso\").show();\n                angular.element(\"#btnReenviaConfirmacao\").hide();\n                angular.element('#btnFechaReenviaConfirmacao').show();\n                $scope.reenvia = [];\n                angular.element(\"form[name=formReenviaConf]\").validator('destroy');\n            }\n        })\n        .error(function(dados){\n            angular.element(\".aviso-oculto\").hide();\n            angular.element(\"#avisoReenviaErroDesconhecido\").show();\n        })\n        .then(function(){\n            iconeEspera('iconeBtnReenvia', 'fa-send', 'desativa');\n        });\n    }\n\n    $scope.entrarUsuario = function(){\n        if( $scope.formEntrar.$invalid ){\n            return false;\n        }\n\n        iconeEspera('iconeBtnEntrar', 'fa-sign-in', 'ativa');\n        $http.post('/entrar', $scope.entrar)\n        .success(function(dados){\n            if( dados.estado == 'sucesso' ){\n                var url = \"/arena\";\n                angular.element(window.document.location).attr('href',url);\n            }\n\n            if( dados.estado == 'erro' ){\n                angular.element(\"#avisoEntrarErro\").html( dados.mensagem );\n                angular.element(\"#avisoEntrarErro\").show();\n            }\n        })\n        .error(function(dados){\n            angular.element(\"#avisoEntrarErro\").html(\"Houve um erro interno e não foi possível validar os dados, por favor tente novamente\");\n            angular.element(\"#avisoEntrarErro\").show();\n            iconeEspera('iconeBtnEntrar', 'fa-sign-in', 'desativa');\n        })\n        .then(function(dados){\n            iconeEspera('iconeBtnEntrar', 'fa-sign-in', 'desativa');\n        });\n    }\n\n    $scope.reenviaDadosAcesso = function(){\n        if( $scope.formReenviadaddosAcesso.$invalid ){\n            return false;\n        }\n\n        iconeEspera('iconeBtnEnviaDados', 'fa-send', 'ativa');\n        $http.post('/entrar/reenvia', $scope.reenvia)\n        .success(function(dados){\n            if( dados.estado == 'confirmado' ){\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoReenviaErro\").show();\n            }\n            if( dados.estado == 'sucesso' ) {\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoReenviaSucesso\").show();\n                angular.element('#btnFechaEnvidaDados').show();\n                $scope.reenvia = [];\n                angular.element(\"form[name=formReenviadaddosAcesso]\").validator('destroy');\n            }\n        })\n        .error(function(dados){\n            angular.element(\".aviso-oculto\").hide();\n            angular.element(\"#avisoReenviaErro\").show();\n        })\n        .then(function(){\n            iconeEspera('iconeBtnEnviaDados', 'fa-send', 'desativa');\n        });\n    }\n\n    $scope.gravaNovaSenha = function(){\n        if( $scope.formNovaSenha.$invalid ){\n            return false;\n        }\n\n        iconeEspera('iconeBtnGravar', 'fa-send', 'ativa');\n        $http.post('/entrar/nova_senha', $scope.novaSenha)\n        .success(function(dados){\n            if( dados.estado == 'erro' ){\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoGravaSenhaErro\").show();\n            }\n            if( dados.estado == 'sucesso' ) {\n                angular.element(\".aviso-oculto\").hide();\n                angular.element(\"#avisoGravaSenhaSucesso\").show();\n                angular.element('#btnFechaEnvidaDados').show();\n                $scope.novaSenha = [];\n                angular.element(\"form[name=formNovaSenha]\").validator('destroy');\n            }\n        })\n        .error(function(dados){\n            angular.element(\".aviso-oculto\").hide();\n            angular.element(\"#avisoGravaSenhaErro\").show();\n        })\n        .then(function(){\n            iconeEspera('iconeBtnGravar', 'fa-send', 'desativa');\n        });\n    }\n\n}\nfnSistemaController.$inject = ['$scope', '$http'];\nangular.module('app').controller('sistemaController', fnSistemaController);"],"sourceRoot":"/source/"}