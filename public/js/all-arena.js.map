{"version":3,"sources":["arena.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all-arena.js","sourcesContent":["function fnSistemaController($scope, $http) {\n\n    $scope.meusBoloes = [];\n    $scope.todosBoloes = [];\n    $scope.adminBolao = [];\n    $scope.adminBolao.confirmaDelete = false;\n\n    $scope.limitesList = [\n        {id:'5', valor:'5'},\n        {id:'10', valor:'10'},\n        {id:'15', valor:'15'},\n        {id:'20', valor:'20'},\n        {id:'25', valor:'25'},\n        {id:'30', valor:'30'}\n    ];\n    $scope.pessoalLimite = '5';\n    $scope.geralLimite = '5';\n\n    $http.get('/bolao/usuario_bolao')\n    .success(function(dados){\n        if( dados.estado === 'sucesso' ){\n            $scope.meusBoloes = dados.lista;\n        }\n\n        if( dados.estado === 'vazio' ){\n            angular.element(\"#vazioMeusBoloes\").show();    \n        }\n\n        if( dados.estado === 'erro' ){\n            angular.element(\"#erroMeusBoloes\").show();    \n        }\n    })\n    .error(function(){\n        angular.element(\"#erroMeusBoloes\").show();\n    })\n    .finally(function(){\n        angular.element(\"#carregaMeusBoloes\").hide();\n    });\n\n    $http.get('/bolao/todos_bolao')\n    .success(function(dados){\n        if( dados.estado === 'sucesso' ){\n            $scope.todosBoloes = dados.lista;\n        }\n\n        if( dados.estado === 'vazio' ){\n            angular.element(\"#vazioTodosBoloes\").show();    \n        }\n\n        if( dados.estado === 'erro' ){\n            angular.element(\"#erroTodosBoloes\").show();    \n        }\n    })\n    .error(function(){\n        angular.element(\"#erroTodosBoloes\").show();\n    })\n    .finally(function(){\n        angular.element(\"#carregaTodosBoloes\").hide();\n    });\n\n    $scope.carregaCompeticao = function(){\n        $http.get('/ws/competicoes')\n        .success(function(dados){\n            $scope.competicoes = dados;\n            $scope.novoBolao.id_competicao = '';\n        });\n    }\n\n    $scope.gravaNovoBolao = function(){\n\n        angular.element('.alerta-oculto').hide();\n\n        if($scope.formNovoBolao.$valid){\n            iconeEspera('iconeBtnCria', 'fa-plus', 'ativa');\n\n            $http.post('/bolao/cria', $scope.novoBolao)\n            .success(function(dados){\n                if( dados.estado === 'sucesso' ){\n                    $scope.meusBoloes = dados.listaMeus;\n                    $scope.todosBoloes = dados.listaTodos;\n                    angular.element(\"#mdNovoBolao\").modal(\"hide\");\n                    angular.element(\".limpar\").val('').html('').prop('checked', false);\n                    angular.element(\"#vazioMeusBoloes\").hide();\n                    angular.element(\"#vazioTodosBoloes\").hide();\n                } else {\n                    angular.element(\"#avisoCriaErro\").show();\n                }\n            })\n            .error(function(){\n                angular.element(\"#avisoCriaErro\").show();\n            })\n            .finally(function(){\n                iconeEspera('iconeBtnCria', 'fa-plus', 'desativa');\n                $http.get('/ws/gettoken')\n                .success(function(dados){\n                    $scope.novoBolao._token = dados.token;\n                });\n            });\n        }\n    }\n\n    $scope.carregaDetalheBolao = function(bolao){\n        $scope.adminBolao.confirmaDelete = false;\n        angular.element(\"#mdDetalheBolao\").modal('show');\n        $http.get('/bolao/detalhe/' + bolao.id)\n        .success(function(dados){\n            $scope.detalheBolao = dados;\n        })\n    }\n\n    $scope.entrarBolao = function(bolao){\n\n        $http.post('/bolao/solicita_entrada/' + bolao.id)\n        .success(function(dados){\n            if( dados.estado === 'sucesso' ){\n                $scope.detalheBolao = dados.detalheBolao;\n                $scope.meusBoloes = dados.listaMeus;\n            }\n        });\n    }\n\n    $scope.cancelarSolicitacao = function(bolao){\n        $http.delete('/bolao/cancela_convite/' + bolao.id)\n        .success(function(dados){\n            if( dados.estado === 'sucesso' ){\n                $scope.detalheBolao = dados.detalheBolao;\n                $scope.meusBoloes = dados.listaMeus;\n            }\n        });\n    }\n\n    $scope.sairBolao = function(bolao){\n        $http.delete('/bolao/sair_bolao/' + bolao.id)\n        .success(function(dados){\n            if( dados.estado === 'sucesso' ){\n                $scope.detalheBolao = dados.detalheBolao;\n                $scope.meusBoloes = dados.listaMeus;\n            }\n        });\n    }\n\n    $scope.deleteBolao = function(bolao){\n        $http.delete('/bolao/delete_bolao/' + bolao.id)\n        .success(function(dados){\n            if( dados.estado === 'sucesso' ){\n                $scope.meusBoloes = dados.listaMeus;\n                $scope.todosBoloes = dados.listaTodos;\n            }\n            angular.element(\"#mdDetalheBolao\").modal(\"hide\");\n        });\n    }\n\n    $scope.respostaConvite = function(dados, acao){\n        var dadosPost = {\n            'bolao': dados,\n            'acao': acao\n        }\n        $http.post('/bolao/resposta_convite', dadosPost)\n        .success(function(dados){\n            $scope.detalheBolao = dados.detalheBolao;\n        });\n    }\n\n    $scope.respostaConviteGeral = function(convite, acao){\n        var dadosPost = {\n            'bolao': convite,\n            'acao': acao\n        }\n        $http.post('/bolao/resposta_convite', dadosPost)\n        .success(function(){\n            $scope.mostraListaConvitePendente();\n        });\n    }\n\n    $scope.banirParticipante = function(participante, idBolao){\n        var dadosPost = {\n            'participante': participante,\n            'bolao': idBolao.id\n        }\n        $http.post('/bolao/banir_participante', dadosPost)\n        .success(function(dados){\n            $scope.detalheBolao = dados.detalheBolao;\n        })\n    }\n\n    $scope.mostraListaConvitePendente = function(){\n        angular.element(\"#listaConvitesPendentesVazia\").hide();\n\n        $http.get('/bolao/convites_pendentes')\n        .success(function(dados){\n            $scope.listaConvites = dados.length;\n            $scope.listaConvitesPendentes = dados;\n            if( dados.length == 0 ){\n                angular.element(\"#listaConvitesPendentesVazia\").show();\n            }\n        });\n\n        angular.element(\"#mdListaConvites\").modal(\"show\");\n    }\n}\nfnSistemaController.$inject = ['$scope', '$http'];\nangular.module('app').controller('sistemaController', fnSistemaController);"],"sourceRoot":"/source/"}