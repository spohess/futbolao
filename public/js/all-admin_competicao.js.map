{"version":3,"sources":["admin_competicao.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all-admin_competicao.js","sourcesContent":["function fnSistemaController($scope, $http) {\n\n    $scope.partida = [];\n    $scope.competicao = $scope.competicao;\n\n    $scope.getCompeticao = function(){\n        $http.get('/ws/competicoes')\n        .success(function(dados){\n            $scope.listaCompetioes = dados;\n        });\n    }\n     $scope.getCompeticao();\n\n    $http.get('/ws/equipes')\n    .success(function(dados){\n        $scope.competicao.equipes = dados;\n    });\n\n    $scope.checkEquipes = function(check){\n        angular.forEach($scope.competicao.equipes, function (equipe) {\n            equipe.selecionada = check;\n        });\n    }\n\n    $scope.cancelaCompeticao = function(){\n        $http.get('/ws/equipes')\n        .success(function(dados){\n            angular.element(\".limpa-form\").val('').prop('checked', false);\n            $scope.competicao.equipes = dados;\n        });\n    }\n\n    $scope.saveCompeticao = function(){\n        $http.post('/admin/save_competicao', $scope.competicao)\n        .success(function(dados){\n            angular.element(document).scrollTop(0);\n            $scope.cancelaCompeticao();\n            $scope.getCompeticao();\n            $scope.avisoCompeticao = {\n                \"class\":\"alert-success\",\n                \"mensagem\":\"A competição foi GRAVADA com sucesso\"\n            };\n            angular.element(\"#avisoCompeticao\").fadeIn('slow');\n        });\n    }\n\n    $scope.editaCompeticao = function(competicao){\n        $http.get('/ws/equipes')\n        .success(function(dados){\n            $scope.competicao = competicao;\n            angular.forEach(dados, function (equipeTotal) {\n                angular.forEach(competicao.equipes, function (equipeEdicao) {\n                    if( equipeTotal.id === equipeEdicao.id ){\n                        equipeTotal.selecionada = true;\n                        equipeTotal.grupo = equipeEdicao.pivot.grupo;\n                    }\n                });\n            });\n            $scope.competicao.equipes = dados;\n        });\n    }\n\n    $scope.chamaConfirmaDelete = function(competicao){\n        $scope.mdCompeticao = competicao;\n        angular.element(\"#mdConfirmaDelete\").modal('show');\n    }\n\n    $scope.deleteCompeticao = function(competicao){\n        $http.delete('/admin/delete_competicao/' + competicao.id)\n        .success(function(){\n            angular.element(\"#mdConfirmaDelete\").modal('hide');\n            $scope.getCompeticao();\n            $scope.avisoCompeticao = {\n                \"class\":\"alert-success\",\n                \"mensagem\":\"A competição foi REMOVIDA com sucesso\"\n            };\n            angular.element(\"#avisoCompeticao\").fadeIn('slow');\n        });\n    }\n\n}\nfnSistemaController.$inject = ['$scope', '$http'];\nangular.module('app').controller('sistemaController', fnSistemaController);"]}